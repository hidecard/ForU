<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Romantic Letter</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body {
            background: linear-gradient(to bottom, #fff0f5, #ffe6f2);
            overflow: auto;
            font-family: 'Comic Sans MS', cursive;
            min-height: 100vh;
        }
        .heart {
            position: absolute;
            font-size: 20px;
            animation: fall 3s linear infinite;
            cursor: pointer;
        }
        @keyframes fall {
            0% { top: -10%; transform: rotate(0deg); }
            100% { top: 100%; transform: rotate(360deg); }
        }
        .small-heart {
            position: absolute;
            font-size: 10px;
            animation: burst 1s ease-out forwards;
        }
        @keyframes burst {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(2) translateY(-20px); }
        }
        #password-screen {
            position: fixed;
            width: 100%;
            height: 100%;
            background: rgba(255, 204, 221, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            top: 0;
            left: 0;
            z-index: 1000;
        }
        .password-box {
            background: #fff0f5;
            padding: 25px;
            border-radius: 25px;
            box-shadow: 0 0 20px rgba(255, 102, 153, 0.4);
            text-align: center;
            border: 2px dashed #ff99cc;
            position: relative;
        }
        #pass-input {
            padding: 10px;
            border: 2px solid #ffccdd;
            border-radius: 15px;
            font-size: 16px;
            background: #fff;
            box-shadow: inset 0 2px 5px rgba(255, 204, 221, 0.3);
        }
        .heart-btn {
            background: #ff6699;
            border: none;
            padding: 0;
            margin: 5px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            color: white;
            font-size: 18px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border-radius: 10px;
        }
        .heart-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 0 10px #ff99cc;
        }
        .slides {
            display: none;
            width: 100%;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(255, 102, 153, 0.3);
            border: 3px solid #ffccdd;
            max-height: 500px;
            object-fit: cover;
        }
        #letter {
            font-size: 28px;
            color: #ff6699;
            text-shadow: 1px 1px 3px #ffccdd;
            margin: 20px 0;
            white-space: pre-wrap;
            line-height: 1.5;
        }
        #main-content {
            padding: 20px 0;
        }
        #gift-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #ff6699;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            transition: transform 0.3s ease;
        }
        #gift-box:hover {
            transform: scale(1.1);
        }
        #gift-content {
            display: none;
            position: fixed;
            bottom: 90px;
            right: 20px;
            background: #fff0f5;
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #ff99cc;
            box-shadow: 0 0 10px rgba(255, 102, 153, 0.4);
            text-align: center;
            color: #ff6699;
            font-size: 18px;
        }
        @media (max-width: 576px) {
            .heart-btn {
                width: 40px;
                height: 40px;
            }
            #letter {
                font-size: 20px;
            }
            .password-box {
                padding: 15px;
            }
            #pass-input {
                width: 120px;
            }
            .slides {
                max-height: 300px;
            }
            #gift-box {
                width: 50px;
                height: 50px;
                font-size: 25px;
            }
            #gift-content {
                font-size: 16px;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <div id="password-screen">
        <div class="password-box">
            <input type="password" id="pass-input" class="form-control mb-3" placeholder="Enter Code">
            <div class="row row-cols-4 g-2">
                <div class="col">
                    <button class="heart-btn" onclick="addNum(1)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">1</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(2)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">2</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(3)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">3</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(4)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">4</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(5)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">5</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(6)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">6</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(7)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">7</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(8)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">8</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(9)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">9</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="addNum(0)"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="10">0</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="checkPass()"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="8">Enter</text></svg></button>
                </div>
                <div class="col">
                    <button class="heart-btn" onclick="clearPass()"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="8">Clear</text></svg></button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="wrongPassModal" tabindex="-1" aria-labelledby="wrongPassModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background: #fff0f5; border: 2px dashed #ff99cc;">
                <div class="modal-header" style="border-bottom: none;">
                    <h5 class="modal-title" id="wrongPassModalLabel" style="color: #ff6699; text-shadow: 1px 1px 3px #ffccdd;">Oops!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="color: #ff6699; font-size: 18px;">
                    Password ·Äô·Äæ·Ä¨·Ä∏·Äî·Ä±·Äï·Ä´·Äê·Äö·Ä∫·Åã ·Äë·Äï·Ä∫·ÄÄ·Äº·Ä≠·ÄØ·Ä∏·ÄÖ·Ä¨·Ä∏·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´·Äî·Ä±·Ä¨·Ä∫! üíñ
                </div>
                <div class="modal-footer" style="border-top: none;">
                    <button type="button" class="heart-btn" data-bs-dismiss="modal"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="8">OK</text></svg></button>
                </div>
            </div>
        </div>
    </div>

    <div id="main-content" style="display:none;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-md-8">
                    <img class="slides img-fluid" src="https://images.unsplash.com/photo-1516726817505-7f847e3dafc0?q=80&w=1470&auto=format&fit=crop" alt="Cute couple">
                    <img class="slides img-fluid" src="https://images.unsplash.com/photo-1506869640319-fe1a24fd45dc?q=80&w=1470&auto=format&fit=crop" alt="Heart balloons">
                    <img class="slides img-fluid" src="https://images.unsplash.com/photo-1522093007474-d86e9bf7ba6f?q=80&w=1464&auto=format&fit=crop" alt="Romantic sunset">
                    <img class="slides img-fluid" src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1470&auto=format&fit=crop" alt="Love flowers">
                </div>
            </div>
            <div class="row justify-content-center mt-4">
                <div class="col-12 col-md-8 text-center">
                    <div id="letter"></div>
                </div>
            </div>
        </div>
        <div id="gift-box" onclick="unwrapGift()">üéÅ</div>
        <div id="gift-content">üíñ Good for one big hug! üíñ</div>
    </div>

    <!-- Love Question Modal -->
    <div class="modal fade" id="loveModal" tabindex="-1" aria-labelledby="loveModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background: #fff0f5; border: 2px dashed #ff99cc;">
                <div class="modal-header" style="border-bottom: none;">
                    <h5 class="modal-title" id="loveModalLabel" style="color: #ff6699; text-shadow: 1px 1px 3px #ffccdd;">Do you love me? üíñ</h5>
                </div>
                <div class="modal-body text-center">
                    <button class="heart-btn" onclick="sendLoveMail('yes')"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="8">Yes</text></svg></button>
                    <button class="heart-btn" onclick="sendLoveMail('no')"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="#ff6699"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/><text x="12" y="16" fill="white" text-anchor="middle" font-size="8">No</text></svg></button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // EmailJS Initialization
        (function() {
            emailjs.init("CXJWd2xBp_0oRL_vb"); // Public Key
        })();

        const audio = document.getElementById("bg-music");
        audio.volume = 0.2;

        let pass = "";
        function addNum(num) {
            pass += num;
            document.getElementById("pass-input").value = pass;
        }

        function clearPass() {
            pass = "";
            document.getElementById("pass-input").value = pass;
        }

        function checkPass() {
            if (pass === "1500") {
                document.getElementById("password-screen").style.display = "none";
                document.getElementById("main-content").style.display = "block";
                audio.play().catch(error => {
                    console.log("Audio play failed:", error);
                });
                startSlides();
                startLetter();
                createHearts();
            } else {
                const wrongPassModal = new bootstrap.Modal(document.getElementById("wrongPassModal"));
                wrongPassModal.show();
                clearPass();
            }
        }

        let slideIndex = 0;
        function startSlides() {
            let slides = document.getElementsByClassName("slides");
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            slides[slideIndex-1].style.display = "block";
            setTimeout(startSlides, 3000);
        }

        function startLetter() {
            const fullText = `Hey sweetie,
The moment I met you, my world lit up.
Your smile is my favorite thing ever.
Every second with you feels like magic.
You‚Äôre my little star, shining so bright.
I‚Äôm so lucky to have you in my life.
You make my heart skip a beat every time.
I just want to hold you close forever.
You‚Äôre my everything, my sweet love.
Here‚Äôs to us, always and forever!`;
            const letterDiv = document.getElementById("letter");
            let index = 0;

            function type() {
                if (index < fullText.length) {
                    letterDiv.innerHTML = fullText.substring(0, index + 1);
                    index++;
                    setTimeout(type, 50);
                }
            }
            type();
        }

        function createHearts() {
            setInterval(() => {
                let heart = document.createElement("div");
                heart.className = "heart";
                heart.innerHTML = "‚ù§Ô∏è";
                heart.style.left = Math.random() * 100 + "vw";
                heart.style.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                heart.style.fontSize = `${Math.random() * 20 + 10}px`;
                heart.onclick = function() { burstHeart(this); };
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 3000);
            }, 150);
        }

        function burstHeart(heart) {
            const rect = heart.getBoundingClientRect();
            for (let i = 0; i < 5; i++) {
                let smallHeart = document.createElement("div");
                smallHeart.className = "small-heart";
                smallHeart.innerHTML = "‚ù§Ô∏è";
                smallHeart.style.left = rect.left + "px";
                smallHeart.style.top = rect.top + "px";
                smallHeart.style.color = heart.style.color;
                smallHeart.style.transform = `translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px)`;
                document.body.appendChild(smallHeart);
                setTimeout(() => smallHeart.remove(), 1000);
            }
            heart.remove();
        }

        function unwrapGift() {
            const loveModal = new bootstrap.Modal(document.getElementById("loveModal"));
            loveModal.show();
        }

        function sendLoveMail(choice) {
            const loveModal = bootstrap.Modal.getInstance(document.getElementById("loveModal"));
            loveModal.hide();

            if (choice === "yes") {
                const templateParams = {
                    to_email: "hidecard1500@gmail.com", // ·Äí·ÄÆ·Äî·Ä±·Äõ·Ä¨·Äô·Äæ·Ä¨ ·Äû·ÄÑ·Ä∫·Äï·Ä≠·ÄØ·Ä∑·ÄÅ·Äª·ÄÑ·Ä∫·Äê·Ä≤·Ä∑ ·Äô·Ä±·Ä∏·Äú·Ä∫·Äú·Ä≠·Äï·Ä∫·ÄÖ·Ä¨ ·Äë·Ää·Ä∑·Ä∫·Äï·Ä´
                    message: "I love you! üíñ",
                };

                emailjs.send("service_8eajqmb", "template_ixfa3pf", templateParams)
                    .then(function(response) {
                        console.log("Email sent successfully!", response.status, response.text);
                        const giftContent = document.getElementById("gift-content");
                        giftContent.style.display = "block";
                        setTimeout(() => {
                            giftContent.style.display = "none";
                        }, 5000);
                    }, function(error) {
                        console.log("Failed to send email:", error);
                        alert("Failed to send the email. Please try again!");
                    });
            } else {
                console.log("User chose No.");
            }
        }
    </script>
</body>
</html>